<section class="content-header">
  <h1>
    交易控制>合同控制
  </h1>
</section>

<section class="content">
  <div class="box">
    <div class="box-header">
      企业列表
    </div>
    <div class="box-body">
      <div class="tab-content">
        <div class="tab-pane active">
          <div class="form-group col-sm-6 flex" *ngFor="let row of shows">
            <div class="search-title xn-control-label">
              {{row.title}}：
            </div>
            <div class="label flex-g">
              <xn-input [row]="row" [form]="mainForm"></xn-input>
            </div>
          </div>
          <div class="text-right content-p col-sm-12">
            <a class="btn btn-primary" (click)="searchMsg()">查询</a>
            <a class="btn btn-danger" (click)="reset()">重置</a>
          </div>
          <div class="content-p">
            <table class="table table-bordered table-striped text-center table-hover">
              <thead>
              <tr class="label-text">
                <th>序号</th>
                <th>企业名称</th>
                <th>企业类型</th>
                <th>签署合同数量</th>
                <th>操作</th>
              </tr>
              </thead>
              <tbody>
              <ng-container *ngIf="data.length;else block">
                <tr *ngFor="let item of data;let i=index">
                  <td>{{(paging-1)*pageSize+i+1}}</td>
                  <td>{{item.orgName}}</td>
                  <td>{{item.orgType | transformSelectPipe : orgNameType}}</td>
                  <td>{{item.contractCounts}}</td>
                  <td><a href="#" (click)="viewDetail(item,$event)">查看</a></td>
                </tr>
              </ng-container>
              </tbody>
            </table>
          </div>
          <ng-template #block>
            <td colspan="5">
              <div class="empty-message"></div>
            </td>
          </ng-template>
          <xn-page [total]="total" [currentPage]="paging"  [size]="pageSize" (change)="onPage($event)"></xn-page>
        </div>

      </div>
    </div>
  </div>
</section>

