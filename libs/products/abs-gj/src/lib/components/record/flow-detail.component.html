<section class="content-header">
  <h1>
    交易详情
    <small></small>
  </h1>
</section>

<section class="content" *ngIf="params">
  <div class="box">
    <div class="box-body">
      <!-- 第一行 -->
      <div class="flex-row this-title-color">
        <div class="this-flex-1">交易ID: {{params.mainFlowId}}</div>
        <div class="this-flex-2 text-right">区块链订单ID: {{params.bcOrderId}}</div>
      </div>

      <!-- 第二行 -->
      <div class="flex-row">
        <div class="this-flex-status">
          <span class="this-title-color">当前步骤</span><br>
          <span class="detail-status">{{currentStatus}}</span>
        </div>

        <div class="this-flex-1">
          <p>供应商：{{params.debtUnit}}</p>
          <p>保理商：{{params.factoringOrgName}}</p>
          <p>核心企业：{{params.projectCompany}}</p>
        </div>

        <div class="this-flex-1">
          <p>融资金额: {{params.receive | xnMoney}} 元人民币</p>
        </div>
      </div>
    </div>
  </div>

  <ul class="nav">
    <li role="presentation" [ngClass]="onCssClass(TabType.Record)" (click)="onItemClick(TabType.Record)">流程记录</li>
    <li role="presentation" [ngClass]="onCssClass(TabType.Trade)" (click)="onItemClick(TabType.Trade)" *ngIf="showTab">贸易动图</li>
    <li role="presentation" [ngClass]="onCssClass(TabType.DataRecord)" (click)="onItemClick(TabType.DataRecord)" *ngIf="showTab">数字资产记录</li>
    <li role="presentation" [ngClass]="onCssClass(TabType.DataBase)" (click)="onItemClick(TabType.DataBase)" *ngIf="showData">数字仓库</li>
    <li role="presentation" [ngClass]="onCssClass(TabType.Process)" (click)="onItemClick(TabType.Process)">业务相关流程</li>
    <li role="presentation" [ngClass]="onCssClass(TabType.File)" (click)="onItemClick(TabType.File)">相关文件</li>
  </ul>

  <ul class="con">
    <lib-flow-detail-record-gj
      [params]="params" [mainFlowId]="mainFlowId" *ngIf='setItem === TabType.Record'
    >
    </lib-flow-detail-record-gj>
    <div style='background-color: #fff;'>
      <lib-business-related-gj *ngIf='setItem === TabType.Process' [mainFlowId]="mainFlowId"></lib-business-related-gj>
      <vanke-file-related *ngIf='setItem === TabType.File' [params]="params" [mainFlowId]="mainFlowId"></vanke-file-related>
    </div>
  </ul>
</section>
