<xn-page-header-wrapper>
  <div class="box-conent">
    <nz-card nzTitle="上传企业名单">
      <div class="upload-box">
        <nz-upload
          nzAction="middle-ground/api/file/upload"
          [nzFileList]="fileList"
          [nzFilter]="filters"
          [nzShowUploadList]="showIcon"
          [nzBeforeUpload]="beforeUpload"
          [nzRemove]="onRemoved"
          (nzChange)="handleChange($event)"
        >
          <button nz-button nzType="primary">上传文件</button>
        </nz-upload>
        <span class="upload-tip"
          >支持文件格式：.xlsx .xls
          <a style="margin-right: 5px" (click)="downloadTemplate()"
            ><i
              style="margin-left: 5px"
              nz-icon
              nzType="cloud-download"
              nzTheme="outline"
            ></i
            >模板下载</a
          ></span
        >
      </div>
      <div>
        <xn-table
          [data]="listInfo"
          [columns]="columns"
          [size]="'middle'"
          [loading]="loading"
          [scroll]="{ y: '400px' }"
          [page]="{
            front: false,
            total: '共' + pageConfig.total + '条记录',
            showQuickJumper: true,
            showSize: true,
            pageSizes: [5, 10, 20, 30, 50, 100]
          }"
          [widthMode]="{
            type: 'strict',
            strictBehavior: 'truncate'
          }"
          [total]="pageConfig.total"
          [pageIndex]="pageConfig.pageIndex"
          [pageSize]="pageConfig.pageSize"
          (change)="handleTableChange($event)"
        >
        </xn-table>
      </div>
    </nz-card>
  </div>

  <xn-footer-toolbar style="align-items: center">
    <button nz-button nzType="default" (click)="goBack()">返回</button>
    <button
      nz-button
      nzType="primary"
      [disabled]="!listInfo.length"
      [nzLoading]="btnLoading"
      (click)="submitList()"
    >
      提交
    </button>
  </xn-footer-toolbar>
</xn-page-header-wrapper>
