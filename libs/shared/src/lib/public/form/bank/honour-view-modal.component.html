<modal #modal [backdrop]="'static'" [keyboard]="false" [animation]="false">
  <modal-header [showClose]="false">
    <h4 class="modal-title">查看商票信息</h4>
    <a class="button-rotate rotate-left" title="点击旋转图片" (click)="rotateImg('left')" *ngIf="!!fileImg">
      <i class="fa fa-undo fa-3x"></i>
    </a>
    <a class="button-rotate rotate-right" title="点击旋转图片" (click)="rotateImg('right')" *ngIf="!!fileImg">
      <i class="fa fa-repeat fa-3x"></i>
    </a>
  </modal-header>
  <modal-body>
    <!-- 发票代码 发票号码 开票日期-->
    <div class="flex-row">
      <div class="this-title" *ngIf="params?.honourNum">商票号码</div>
      <div class="this-padding this-flex-1" *ngIf="params?.honourNum">
        <input class="form-control xn-input-border-radius" value="{{params?.honourNum}}" type="text" readonly>
      </div>
      <div class="this-title" *ngIf="params?.honourAmount">商票金额</div>
      <div class="this-padding this-flex-1" *ngIf="params?.honourAmount">
        <input class="form-control xn-input-border-radius" value="{{params?.honourAmount | xnMoney}}" type="text" readonly>
        <div class="this-control">
          <span class="xn-money-alert">{{moneyAlert}}</span>
        </div>
      </div>
    </div>

    <!-- 开票金额 -->
    <div class="flex-row">
      <div class="this-title" *ngIf="params?.honourDate">出票日期</div>
      <div class="this-padding this-flex-1" *ngIf="params?.honourDate">
        <input class="form-control xn-input-border-radius" value="{{params?.honourDate}}" type="text" readonly>
      </div>
      <div class="this-title" *ngIf="params?.dueDate">到期日期</div>
      <div class="this-padding this-flex-1" *ngIf="params?.dueDate">
        <input class="form-control xn-input-border-radius" value="{{params?.dueDate}}" type="text" readonly>
        <div class="this-control">
          <span class="xn-holiday-alert">{{dateEndAlert}}</span>
        </div>
      </div>
    </div>

    <!-- 商票承兑人 -->
    <div class="flex-row">
      <div class="this-title" *ngIf="params?.acceptorName">商票承兑人</div>
      <div class="this-padding this-flex-1" *ngIf="params?.acceptorName">
        <input class="form-control xn-input-border-radius" value="{{params?.acceptorName}}" type="text" readonly>
      </div>
      <div class="this-title" *ngIf="params?.honourBankNum">承兑行行号</div>
      <div class="this-padding this-flex-1" *ngIf="params?.honourBankNum">
        <input class="form-control xn-input-border-radius" value="{{params?.honourBankNum}}" type="text" readonly>
      </div>
    </div>

    <!-- 保理到期日 -->
    <div class="flex-row">
      <div class="this-title" *ngIf="params?.factoringDate">保理到期日</div>
      <div class="this-padding this-flex-1" *ngIf="params?.factoringDate">
        <input class="form-control xn-input-border-radius" value="{{params?.factoringDate}}" type="text" readonly>
        <div class="this-control">
          <span class="xn-holiday-alert">{{holidayAlert}}</span>
        </div>
      </div>
      <div class="this-title" *ngIf="params?.factoringDate"></div>
      <div class="this-padding this-flex-1" *ngIf="params?.factoringDate">
      </div>
    </div>

    <!-- 商票图片 -->
    <div class="row form-group text-center">
      <!-- <img class="this-img" src="{{fileImg}}" *ngIf="!!fileImg"> -->
      <div class="img-container" #imgContainer>
        <div class="img-wrapper" #outerImg>
          <img #innerImg class="this-img" src="{{fileImg}}" *ngIf="!!fileImg">
        </div>
      </div>
    </div>
  </modal-body>
  <modal-footer>
    <button type="button" *ngIf="params && !!params.preview" class="btn btn-danger" (click)="onOk()">关闭</button>
    <button type="button" *ngIf="params && !params.preview" class="btn btn-danger" (click)="onConsistent(false)">信息不一致</button>
    <button type="button" *ngIf="params && !params.preview" class="btn btn-info" (click)="onConsistent(true)">信息一致</button>
  </modal-footer>
</modal>
